# Task: P2-04-redis-cache

## ä»»åŠ¡ä¿¡æ¯
- **ä»»åŠ¡ID**: P2-04
- **ä»»åŠ¡åç§°**: Redisç¼“å­˜é›†æˆ
- **æ‰€å±é˜¶æ®µ**: Phase 2 åç«¯æ ¸å¿ƒå±‚
- **è®¡åˆ’å·¥æœŸ**: 2å¤©
- **çŠ¶æ€**: ğŸ”„ è¿›è¡Œä¸­
- **å·¥ä½œåˆ†æ”¯**: service-core
- **å‰ç½®ä¾èµ–**: P2-02 âœ…, P2-03 âœ…

## Rediséƒ¨ç½²æ–¹æ¡ˆ
ä½¿ç”¨ Docker å¯åŠ¨ Redis å®¹å™¨ï¼š
```bash
docker run -d \
  --name fund_redis \
  -p 6379:6379 \
  redis:7-alpine \
  redis-server --appendonly yes
```

## æ‰§è¡Œè®¡åˆ’

### Day 1: Rediséƒ¨ç½²ä¸é…ç½® âœ…
- [x] Dockerå¯åŠ¨Rediså®¹å™¨
- [x] é…ç½®Redissonè¿æ¥
- [x] å¯ç”¨Spring Cache

### Day 2: ç¼“å­˜åº”ç”¨ä¸æµ‹è¯• âœ…
- [x] Serviceå±‚åŠ ç¼“å­˜æ³¨è§£
- [x] ç¼“å­˜ç›‘æ§æ¥å£
- [x] æ€§èƒ½å¯¹æ¯”æµ‹è¯•

## ç¼“å­˜ç­–ç•¥
| ç¼“å­˜åç§° | è¿‡æœŸæ—¶é—´ | ç”¨é€” |
|---------|---------|------|
| fund:detail | 5åˆ†é’Ÿ | åŸºé‡‘è¯¦æƒ… |
| fund:metrics | 5åˆ†é’Ÿ | åŸºé‡‘æŒ‡æ ‡ |
| fund:ranking | 1å°æ—¶ | TOPæ’å |
| fund:search | 2åˆ†é’Ÿ | æœç´¢ç»“æœ |

## æ€§èƒ½æå‡
| æ¥å£ | æ— ç¼“å­˜ | æœ‰ç¼“å­˜ | æå‡ |
|------|--------|--------|------|
| åŸºé‡‘è¯¦æƒ… | 221ms | 13ms | **94%** |
| TOPæ’å | 75ms | 11ms | **85%** |

## ç›‘æ§æ¥å£
```bash
GET /admin/cache/stats       # ç¼“å­˜ç»Ÿè®¡
POST /admin/cache/clear      # æ¸…ç©ºæŒ‡å®šç¼“å­˜
POST /admin/cache/clear/all  # æ¸…ç©ºæ‰€æœ‰ç¼“å­˜
```

## éªŒæ”¶æ ‡å‡†
- [x] Rediså®¹å™¨æ­£å¸¸è¿è¡Œ âœ…
- [x] Spring Bootè¿æ¥RedisæˆåŠŸ âœ…
- [x] ç¼“å­˜æ­£å¸¸å†™å…¥/è¯»å– âœ…
- [x] å“åº”æ—¶é—´æå‡>50% âœ… (å®é™…>80%)

## æµ‹è¯•æ—¥å¿—
è¯¦è§: [test-log-p2-04.md](./test-log-p2-04.md)
